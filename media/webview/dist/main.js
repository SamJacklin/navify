"use strict";(()=>{var j,x,ue,Ve,L,le,de,fe,ve,ee,Q,Y,$e,H={},he=[],je=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,W=Array.isArray;function D(e,t){for(var r in t)e[r]=t[r];return e}function te(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function We(e,t,r){var n,s,o,a={};for(o in t)o=="key"?n=t[o]:o=="ref"?s=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?j.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return B(e,a,n,s,null)}function B(e,t,r,n,s){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++ue,__i:-1,__u:0};return s==null&&x.vnode!=null&&x.vnode(o),o}function P(e){return e.children}function V(e,t){this.props=e,this.context=t}function I(e,t){if(t==null)return e.__?I(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?I(e):null}function ge(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return ge(e)}}function ce(e){(!e.__d&&(e.__d=!0)&&L.push(e)&&!$.__r++||le!=x.debounceRendering)&&((le=x.debounceRendering)||de)($)}function $(){for(var e,t,r,n,s,o,a,p=1;L.length;)L.length>p&&L.sort(fe),e=L.shift(),p=L.length,e.__d&&(r=void 0,n=void 0,s=(n=(t=e).__v).__e,o=[],a=[],t.__P&&((r=D({},n)).__v=n.__v+1,x.vnode&&x.vnode(r),re(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[s]:null,o,s??I(n),!!(32&n.__u),a),r.__v=n.__v,r.__.__k[r.__i]=r,be(o,r,a),n.__e=n.__=null,r.__e!=s&&ge(r)));$.__r=0}function xe(e,t,r,n,s,o,a,p,_,l,u){var i,f,d,g,E,k,m,v=n&&n.__k||he,b=t.length;for(_=qe(r,t,v,_,b),i=0;i<b;i++)(d=r.__k[i])!=null&&(f=d.__i==-1?H:v[d.__i]||H,d.__i=i,k=re(e,d,f,s,o,a,p,_,l,u),g=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&oe(f.ref,null,d),u.push(d.ref,d.__c||g,d)),E==null&&g!=null&&(E=g),(m=!!(4&d.__u))||f.__k===d.__k?_=me(d,_,e,m):typeof d.type=="function"&&k!==void 0?_=k:g&&(_=g.nextSibling),d.__u&=-7);return r.__e=E,_}function qe(e,t,r,n,s){var o,a,p,_,l,u=r.length,i=u,f=0;for(e.__k=new Array(s),o=0;o<s;o++)(a=t[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=e.__k[o]=B(null,a,null,null,null):W(a)?a=e.__k[o]=B(P,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?a=e.__k[o]=B(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):e.__k[o]=a,_=o+f,a.__=e,a.__b=e.__b+1,p=null,(l=a.__i=Ke(a,r,_,i))!=-1&&(i--,(p=r[l])&&(p.__u|=2)),p==null||p.__v==null?(l==-1&&(s>u?f--:s<u&&f++),typeof a.type!="function"&&(a.__u|=4)):l!=_&&(l==_-1?f--:l==_+1?f++:(l>_?f--:f++,a.__u|=4))):e.__k[o]=null;if(i)for(o=0;o<u;o++)(p=r[o])!=null&&(2&p.__u)==0&&(p.__e==n&&(n=I(p)),ke(p,p));return n}function me(e,t,r,n){var s,o;if(typeof e.type=="function"){for(s=e.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=e,t=me(s[o],t,r,n));return t}e.__e!=t&&(n&&(t&&e.type&&!t.parentNode&&(t=I(e)),r.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Ke(e,t,r,n){var s,o,a,p=e.key,_=e.type,l=t[r],u=l!=null&&(2&l.__u)==0;if(l===null&&p==null||u&&p==l.key&&_==l.type)return r;if(n>(u?1:0)){for(s=r-1,o=r+1;s>=0||o<t.length;)if((l=t[a=s>=0?s--:o++])!=null&&(2&l.__u)==0&&p==l.key&&_==l.type)return a}return-1}function pe(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||je.test(t)?r:r+"px"}function M(e,t,r,n,s){var o,a;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||pe(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||pe(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace(ve,"$1")),a=t.toLowerCase(),t=a in e||t=="onFocusOut"||t=="onFocusIn"?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n?r.u=n.u:(r.u=ee,e.addEventListener(t,o?Y:Q,o)):e.removeEventListener(t,o?Y:Q,o);else{if(s=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function _e(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=ee++;else if(t.t<r.u)return;return r(x.event?x.event(t):t)}}}function re(e,t,r,n,s,o,a,p,_,l){var u,i,f,d,g,E,k,m,v,b,h,R,C,ae,z,A,J,N=t.type;if(t.constructor!==void 0)return null;128&r.__u&&(_=!!(32&r.__u),o=[p=t.__e=r.__e]),(u=x.__b)&&u(t);e:if(typeof N=="function")try{if(m=t.props,v="prototype"in N&&N.prototype.render,b=(u=N.contextType)&&n[u.__c],h=u?b?b.props.value:u.__:n,r.__c?k=(i=t.__c=r.__c).__=i.__E:(v?t.__c=i=new N(m,h):(t.__c=i=new V(m,h),i.constructor=N,i.render=Ge),b&&b.sub(i),i.state||(i.state={}),i.__n=n,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&N.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=D({},i.__s)),D(i.__s,N.getDerivedStateFromProps(m,i.__s))),d=i.props,g=i.state,i.__v=t,f)v&&N.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&N.getDerivedStateFromProps==null&&m!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(m,h),t.__v==r.__v||!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(m,i.__s,h)===!1){for(t.__v!=r.__v&&(i.props=m,i.state=i.__s,i.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(U){U&&(U.__=t)}),R=0;R<i._sb.length;R++)i.__h.push(i._sb[R]);i._sb=[],i.__h.length&&a.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(m,i.__s,h),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,g,E)})}if(i.context=h,i.props=m,i.__P=e,i.__e=!1,C=x.__r,ae=0,v){for(i.state=i.__s,i.__d=!1,C&&C(t),u=i.render(i.props,i.state,i.context),z=0;z<i._sb.length;z++)i.__h.push(i._sb[z]);i._sb=[]}else do i.__d=!1,C&&C(t),u=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++ae<25);i.state=i.__s,i.getChildContext!=null&&(n=D(D({},n),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(E=i.getSnapshotBeforeUpdate(d,g)),A=u,u!=null&&u.type===P&&u.key==null&&(A=ye(u.props.children)),p=xe(e,W(A)?A:[A],t,r,n,s,o,a,p,_,l),i.base=t.__e,t.__u&=-161,i.__h.length&&a.push(i),k&&(i.__E=i.__=null)}catch(U){if(t.__v=null,_||o!=null)if(U.then){for(t.__u|=_?160:128;p&&p.nodeType==8&&p.nextSibling;)p=p.nextSibling;o[o.indexOf(p)]=null,t.__e=p}else{for(J=o.length;J--;)te(o[J]);Z(t)}else t.__e=r.__e,t.__k=r.__k,U.then||Z(t);x.__e(U,t,r)}else o==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):p=t.__e=Xe(r.__e,t,r,n,s,o,a,_,l);return(u=x.diffed)&&u(t),128&t.__u?void 0:p}function Z(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Z)}function be(e,t,r){for(var n=0;n<r.length;n++)oe(r[n],r[++n],r[++n]);x.__c&&x.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(o){o.call(s)})}catch(o){x.__e(o,s.__v)}})}function ye(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:W(e)?e.map(ye):D({},e)}function Xe(e,t,r,n,s,o,a,p,_){var l,u,i,f,d,g,E,k=r.props||H,m=t.props,v=t.type;if(v=="svg"?s="http://www.w3.org/2000/svg":v=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),o!=null){for(l=0;l<o.length;l++)if((d=o[l])&&"setAttribute"in d==!!v&&(v?d.localName==v:d.nodeType==3)){e=d,o[l]=null;break}}if(e==null){if(v==null)return document.createTextNode(m);e=document.createElementNS(s,v,m.is&&m),p&&(x.__m&&x.__m(t,o),p=!1),o=null}if(v==null)k===m||p&&e.data==m||(e.data=m);else{if(o=o&&j.call(e.childNodes),!p&&o!=null)for(k={},l=0;l<e.attributes.length;l++)k[(d=e.attributes[l]).name]=d.value;for(l in k)if(d=k[l],l!="children"){if(l=="dangerouslySetInnerHTML")i=d;else if(!(l in m)){if(l=="value"&&"defaultValue"in m||l=="checked"&&"defaultChecked"in m)continue;M(e,l,null,d,s)}}for(l in m)d=m[l],l=="children"?f=d:l=="dangerouslySetInnerHTML"?u=d:l=="value"?g=d:l=="checked"?E=d:p&&typeof d!="function"||k[l]===d||M(e,l,d,k[l],s);if(u)p||i&&(u.__html==i.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(i&&(e.innerHTML=""),xe(t.type=="template"?e.content:e,W(f)?f:[f],t,r,n,v=="foreignObject"?"http://www.w3.org/1999/xhtml":s,o,a,o?o[0]:r.__k&&I(r,0),p,_),o!=null)for(l=o.length;l--;)te(o[l]);p||(l="value",v=="progress"&&g==null?e.removeAttribute("value"):g!=null&&(g!==e[l]||v=="progress"&&!g||v=="option"&&g!=k[l])&&M(e,l,g,k[l],s),l="checked",E!=null&&E!=e[l]&&M(e,l,E,k[l],s))}return e}function oe(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(s){x.__e(s,r)}}function ke(e,t,r){var n,s;if(x.unmount&&x.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||oe(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){x.__e(o,t)}n.base=n.__P=null}if(n=e.__k)for(s=0;s<n.length;s++)n[s]&&ke(n[s],t,r||typeof e.type!="function");r||te(e.__e),e.__c=e.__=e.__e=void 0}function Ge(e,t,r){return this.constructor(e,r)}function we(e,t,r){var n,s,o,a;t==document&&(t=document.documentElement),x.__&&x.__(e,t),s=(n=typeof r=="function")?null:r&&r.__k||t.__k,o=[],a=[],re(t,e=(!n&&r||t).__k=We(P,null,[e]),s||H,H,t.namespaceURI,!n&&r?[r]:s?null:t.firstChild?j.call(t.childNodes):null,o,!n&&r?r:s?s.__e:t.firstChild,n,a),be(o,e,a)}j=he.slice,x={__e:function(e,t,r,n){for(var s,o,a;t=t.__;)if((s=t.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(e)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,n||{}),a=s.__d),a)return s.__E=s}catch(p){e=p}throw e}},ue=0,Ve=function(e){return e!=null&&e.constructor===void 0},V.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=D({},this.state),typeof e=="function"&&(e=e(D({},r),this.props)),e&&D(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),ce(this))},V.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ce(this))},V.prototype.render=P,L=[],de=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,fe=function(e,t){return e.__v.__b-t.__v.__b},$.__r=0,ve=/(PointerCapture)$|Capture$/i,ee=0,Q=_e(!1),Y=_e(!0),$e=0;var O,y,ne,Ee,K=0,De=[],w=x,Te=w.__b,Se=w.__r,Re=w.diffed,Ce=w.__c,Pe=w.unmount,Ne=w.__;function se(e,t){w.__h&&w.__h(y,e,K||t),K=0;var r=y.__H||(y.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function T(e){return K=1,Je(Ue,e)}function Je(e,t,r){var n=se(O++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):Ue(void 0,t),function(p){var _=n.__N?n.__N[0]:n.__[0],l=n.t(_,p);_!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=y,!y.__f)){var s=function(p,_,l){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!o||o.call(this,p,_,l);var i=n.__c.props!==p;return u.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),o&&o.call(this,p,_,l)||i};y.__f=!0;var o=y.shouldComponentUpdate,a=y.componentWillUpdate;y.componentWillUpdate=function(p,_,l){if(this.__e){var u=o;o=void 0,s(p,_,l),o=u}a&&a.call(this,p,_,l)},y.shouldComponentUpdate=s}return n.__N||n.__}function S(e,t){var r=se(O++,3);!w.__s&&Le(r.__H,t)&&(r.__=e,r.u=t,y.__H.__h.push(r))}function X(e){return K=5,Qe(function(){return{current:e}},[])}function Qe(e,t){var r=se(O++,7);return Le(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function Ye(){for(var e;e=De.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(q),e.__H.__h.forEach(ie),e.__H.__h=[]}catch(t){e.__H.__h=[],w.__e(t,e.__v)}}w.__b=function(e){y=null,Te&&Te(e)},w.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Ne&&Ne(e,t)},w.__r=function(e){Se&&Se(e),O=0;var t=(y=e.__c).__H;t&&(ne===y?(t.__h=[],y.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(q),t.__h.forEach(ie),t.__h=[],O=0)),ne=y},w.diffed=function(e){Re&&Re(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(De.push(t)!==1&&Ee===w.requestAnimationFrame||((Ee=w.requestAnimationFrame)||Ze)(Ye)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),ne=y=null},w.__c=function(e,t){t.some(function(r){try{r.__h.forEach(q),r.__h=r.__h.filter(function(n){return!n.__||ie(n)})}catch(n){t.some(function(s){s.__h&&(s.__h=[])}),t=[],w.__e(n,r.__v)}}),Ce&&Ce(e,t)},w.unmount=function(e){Pe&&Pe(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{q(n)}catch(s){t=s}}),r.__H=void 0,t&&w.__e(t,r.__v))};var Fe=typeof requestAnimationFrame=="function";function Ze(e){var t,r=function(){clearTimeout(n),Fe&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,35);Fe&&(t=requestAnimationFrame(r))}function q(e){var t=y,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),y=t}function ie(e){var t=y;e.__c=e.__(),y=t}function Le(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function Ue(e,t){return typeof t=="function"?t(e):t}var et=acquireVsCodeApi();function F(e){et.postMessage(e)}function G(e){let t=r=>e(r.data);return window.addEventListener("message",t),()=>window.removeEventListener("message",t)}var tt=0;function c(e,t,r,n,s,o){t||(t={});var a,p,_=t;if("ref"in _)for(p in _={},t)p=="ref"?a=t[p]:_[p]=t[p];var l={type:e,props:_,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--tt,__i:-1,__u:0,__source:s,__self:o};if(typeof e=="function"&&(a=e.defaultProps))for(p in a)_[p]===void 0&&(_[p]=a[p]);return x.vnode&&x.vnode(l),l}function Ie({items:e,selectedIndex:t,onSelectedIndexChange:r,emptyState:n}){let s=X(null);return S(()=>{if(s.current&&e.length>0){let o=s.current.querySelector(`[data-index="${t}"]`);o&&o.scrollIntoView({block:"nearest",behavior:"smooth"})}},[t,e]),e.length===0&&n?c("div",{class:"empty",children:[c("div",{class:"empty-title",children:n.title}),n.hint&&c("div",{class:"empty-hint",children:n.hint})]}):c("div",{class:"results",ref:s,role:"listbox",children:e.map((o,a)=>c("div",{"data-index":a,class:`result-item ${a===t?"selected":""}`,role:"option","aria-selected":a===t,onClick:()=>F({type:"OPEN",uri:o.uri}),onMouseEnter:()=>r(a),children:[c("div",{class:"result-label",children:o.label}),c("div",{class:"result-path",children:o.path})]},o.uri))})}function Ae({visible:e}){let[t,r]=T([]),[n,s]=T([]),[o,a]=T(null),[p,_]=T(new Set),[l,u]=T(!1),[i,f]=T(null),[d,g]=T(null);return S(()=>{e&&t.length===0&&o===null&&!l&&(u(!0),F({type:"EXPLORER_GET_DIR_TREE"}))},[e]),S(()=>{if(!d)return;let h=setTimeout(()=>g(null),1200);return()=>clearTimeout(h)},[d]),S(()=>G(h=>{h.type==="EXPLORER_DIR_TREE"?(r(h.roots),u(!1)):h.type==="EXPLORER_TREE"?(a(h.roots),_(new Set),u(!1)):h.type==="ACTIVE_FILE"&&f(h.uri)}),[]),c("div",{class:"tab-content",role:"tabpanel",style:{display:e?void 0:"none"},children:l?c("div",{class:"empty",children:c("div",{class:"empty-title",children:"Loading..."})}):o!==null?c(ot,{roots:o,expanded:p,activeUri:i,justOpenedUri:d,onToggle:h=>{_(R=>{let C=new Set(R);return C.has(h)?C.delete(h):C.add(h),C})},onOpen:h=>{F({type:"OPEN",uri:h}),g(h)},onChangeFolders:()=>{a(null),s([]),_(new Set),t.length===0&&(u(!0),F({type:"EXPLORER_GET_DIR_TREE"}))}}):c(rt,{roots:t,selectedUris:n,onSelect:h=>{s(R=>R.includes(h)?R.filter(C=>C!==h):R.length>=2?[R[1],h]:[...R,h])},onFocus:()=>{n.length!==0&&(u(!0),F({type:"EXPLORER_GET_TREE",folderUris:n}))}})})}function rt({roots:e,selectedUris:t,onSelect:r,onFocus:n}){let[s,o]=T(()=>new Set(e.map(_=>_.uri)));S(()=>{e.length>0&&o(_=>{let l=new Set(_);return e.forEach(u=>l.add(u.uri)),l})},[e]);let a=_=>{o(l=>{let u=new Set(l);return u.has(_)?u.delete(_):u.add(_),u})};if(e.length===0)return c(P,{children:[c("div",{class:"explorer-toolbar",children:c("span",{class:"explorer-toolbar-label",children:"Explorer Plus"})}),c("div",{class:"empty",children:[c("div",{class:"empty-title",children:"No workspace open"}),c("div",{class:"empty-hint",children:"Open a folder to use Explorer Plus"})]})]});let p=t.length;return c(P,{children:[c("div",{class:"explorer-toolbar",children:[c("span",{class:"explorer-toolbar-label",children:"Select folders to focus"}),p>0&&c("span",{class:"explorer-selection-count",children:[p,"/2"]})]}),c("div",{class:"results",children:e.map(_=>c(He,{node:_,depth:0,expanded:s,selectedUris:t,onSelect:r,onToggleExpand:a},_.uri))}),p>0&&c("div",{class:"explorer-footer",children:c("button",{class:"explorer-apply-btn",onClick:n,children:["Focus ",p===1?"folder":"both folders"]})})]})}function He({node:e,depth:t,expanded:r,selectedUris:n,onSelect:s,onToggleExpand:o}){let a=r.has(e.uri),p=n.includes(e.uri),_=e.children.length>0,l=t*14;return c(P,{children:[c("div",{class:`explorer-dir-pick-item${p?" selected":""}`,style:{paddingLeft:`${16+l}px`},onClick:()=>{s(e.uri),a||o(e.uri)},role:"checkbox","aria-checked":p,tabIndex:0,onKeyDown:u=>{u.key==="Enter"?(u.preventDefault(),s(e.uri)):u.key===" "&&_&&(u.preventDefault(),o(e.uri))},children:[c("span",{class:"explorer-expand-arrow",style:{visibility:_?void 0:"hidden"},onClick:u=>{u.stopPropagation(),o(e.uri)},"aria-hidden":"true",children:a?"\u25BE":"\u25B8"}),c("span",{class:"explorer-check","aria-hidden":"true",children:p?"\u2713":""}),c("span",{class:"explorer-item-icon","aria-hidden":"true",children:"\u{1F4C1}"}),c("span",{class:"explorer-item-name",children:e.name})]}),a&&e.children.map(u=>c(He,{node:u,depth:t+1,expanded:r,selectedUris:n,onSelect:s,onToggleExpand:o},u.uri))]})}function ot({roots:e,expanded:t,activeUri:r,justOpenedUri:n,onToggle:s,onOpen:o,onChangeFolders:a}){let p=e.length>1,_=p?null:e[0]?.name,l=e.some(u=>(u.children?.length??0)>0);return c(P,{children:[c("div",{class:"explorer-toolbar",children:[c("button",{class:"explorer-back-btn",onClick:a,"aria-label":"Change focused folders",children:"\u2190 Change"}),_&&c("span",{class:"explorer-toolbar-label",title:_,children:_})]}),l?c("div",{class:"results",children:e.map((u,i)=>c("div",{children:[p&&c("div",{class:`explorer-section${i>0?" explorer-section--divided":""}`,children:[c("span",{class:"explorer-item-icon","aria-hidden":"true",children:"\u{1F4C1}"}),c("span",{class:"explorer-section-label",children:u.name})]}),(u.children??[]).map(f=>c(Oe,{node:f,depth:0,expanded:t,activeUri:r,justOpenedUri:n,onToggle:s,onOpen:o},f.uri))]},u.uri))}):c("div",{class:"empty",children:[c("div",{class:"empty-title",children:"No files found"}),c("div",{class:"empty-hint",children:"The selected folder appears to be empty"})]})]})}function Oe({node:e,depth:t,expanded:r,activeUri:n,justOpenedUri:s,onToggle:o,onOpen:a}){let p=t*14;if(e.type==="file"){let l=n===e.uri,u=s===e.uri,i=["explorer-item",l?"explorer-item--active":"",u?"explorer-item--flash":""].filter(Boolean).join(" ");return c("div",{class:i,style:{paddingLeft:`${16+p}px`},onClick:()=>a(e.uri),role:"button",tabIndex:0,onKeyDown:f=>{f.key==="Enter"&&a(e.uri)},children:[c("span",{class:"explorer-spacer","aria-hidden":"true"}),c("span",{class:"explorer-item-icon","aria-hidden":"true",children:"\u{1F4C4}"}),c("span",{class:"explorer-item-name",children:e.name})]})}let _=r.has(e.uri);return c(P,{children:[c("div",{class:`explorer-item explorer-dir-item${_?" expanded":""}`,style:{paddingLeft:`${16+p}px`},onClick:()=>o(e.uri),role:"button","aria-expanded":_,tabIndex:0,onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),o(e.uri))},children:[c("span",{class:"explorer-arrow","aria-hidden":"true",children:_?"\u25BE":"\u25B8"}),c("span",{class:"explorer-item-icon","aria-hidden":"true",children:"\u{1F4C1}"}),c("span",{class:"explorer-item-name",children:e.name})]}),_&&e.children?.map(l=>c(Oe,{node:l,depth:t+1,expanded:r,activeUri:n,justOpenedUri:s,onToggle:o,onOpen:a},l.uri))]})}function ze({enabled:e,itemCount:t,selectedIndex:r,onSelectedIndexChange:n,onEnter:s}){S(()=>{if(!e||t===0)return;let o=a=>{a.key==="ArrowDown"?(a.preventDefault(),n(Math.min(r+1,t-1))):a.key==="ArrowUp"?(a.preventDefault(),n(Math.max(r-1,0))):a.key==="Enter"&&(a.preventDefault(),s())};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e,t,r,n,s])}function Me(){let[e,t]=T("search"),[r,n]=T(""),[s,o]=T([]),[a,p]=T([]),[_,l]=T(0),[u,i]=T(!1),f=X(null),d=typeof window<"u"&&window.__NAVIFY_LOGO__?window.__NAVIFY_LOGO__:"",g=r.trim().length>0,E=g?s:a;S(()=>{e==="search"&&f.current?.focus()},[e]),S(()=>G(b=>{b.type==="RESULTS"?(o(Array.isArray(b.items)?b.items:[]),l(0),i(!1)):b.type==="RECENT_FILES"&&(p(Array.isArray(b.items)?b.items:[]),g||l(0))}),[g]),S(()=>{let b=r.trim();if(!b){o([]),l(0),i(!1);return}i(!0);let h=window.setTimeout(()=>{F({type:"SEARCH",q:b})},120);return()=>window.clearTimeout(h)},[r]),ze({enabled:e==="search",itemCount:E.length,selectedIndex:_,onSelectedIndexChange:l,onEnter:()=>{let b=E[_];b&&F({type:"OPEN",uri:b.uri})}});let k=()=>g?u?{title:"Searching..."}:{title:"No files found",hint:"Try a different search term"}:{title:"No recent files",hint:"Files you open will appear here"},v=g&&s.length>0?`${s.length} ${s.length===1?"file":"files"} \xB7 \u2191\u2193 to navigate \xB7 Enter to open`:!g&&a.length>0?"\u2191\u2193 to navigate \xB7 Enter to open":null;return c("div",{class:"root",children:[c("div",{class:"header",children:c("div",{class:"header-content",children:[c("img",{class:"logo",src:d,alt:"Navify"}),c("h1",{class:"title",children:"Navify"})]})}),c("div",{class:"tabs",role:"tablist",children:[c("button",{class:`tab ${e==="search"?"active":""}`,role:"tab","aria-selected":e==="search",onClick:()=>t("search"),children:[c("span",{class:"tab-icon",children:"\u{1F50D}"}),c("span",{children:"Search"})]}),c("button",{class:`tab ${e==="explorer"?"active":""}`,role:"tab","aria-selected":e==="explorer",onClick:()=>t("explorer"),children:[c("span",{class:"tab-icon",children:"\u{1F4C2}"}),c("span",{children:"Explorer Plus"})]})]}),c("div",{class:"tab-content",role:"tabpanel",style:{display:e!=="search"?"none":void 0},children:[c("div",{class:"search-container",children:[c("div",{class:"search-input-wrapper",children:[c("span",{class:"search-icon","aria-hidden":"true",children:"\u{1F50D}"}),c("input",{ref:f,class:"search-input",type:"text",value:r,onInput:b=>n(b.target.value),placeholder:"Search files...","aria-label":"Search files",autocomplete:"off",spellcheck:!1}),r&&c("button",{class:"search-clear",onClick:()=>{n(""),f.current?.focus()},"aria-label":"Clear search",children:"\u2715"})]}),v&&c("div",{class:"search-hint",children:v})]}),!g&&a.length>0&&c("div",{class:"section-header",children:c("h2",{class:"section-title",children:"Recently Opened"})}),c(Ie,{items:E,selectedIndex:_,onSelectedIndexChange:l,emptyState:k()})]}),c(Ae,{visible:e==="explorer"})]})}var Be=document.getElementById("app");Be&&we(c(Me,{}),Be);})();
