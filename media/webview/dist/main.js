"use strict";(()=>{var W,x,ue,$e,D,le,de,fe,ve,ee,Y,J,Be,A={},he=[],We=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,q=Array.isArray;function N(e,t){for(var r in t)e[r]=t[r];return e}function te(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function qe(e,t,r){var n,i,o,a={};for(o in t)o=="key"?n=t[o]:o=="ref"?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?W.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return V(e,a,n,i,null)}function V(e,t,r,n,i){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++ue,__i:-1,__u:0};return i==null&&x.vnode!=null&&x.vnode(o),o}function T(e){return e.children}function $(e,t){this.props=e,this.context=t}function L(e,t){if(t==null)return e.__?L(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?L(e):null}function ge(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return ge(e)}}function ce(e){(!e.__d&&(e.__d=!0)&&D.push(e)&&!B.__r++||le!=x.debounceRendering)&&((le=x.debounceRendering)||de)(B)}function B(){for(var e,t,r,n,i,o,a,c=1;D.length;)D.length>c&&D.sort(fe),e=D.shift(),c=D.length,e.__d&&(r=void 0,n=void 0,i=(n=(t=e).__v).__e,o=[],a=[],t.__P&&((r=N({},n)).__v=n.__v+1,x.vnode&&x.vnode(r),re(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[i]:null,o,i??L(n),!!(32&n.__u),a),r.__v=n.__v,r.__.__k[r.__i]=r,me(o,r,a),n.__e=n.__=null,r.__e!=i&&ge(r)));B.__r=0}function xe(e,t,r,n,i,o,a,c,_,l,u){var s,f,d,b,h,m,v,g=n&&n.__k||he,y=t.length;for(_=je(r,t,g,_,y),s=0;s<y;s++)(d=r.__k[s])!=null&&(f=d.__i==-1?A:g[d.__i]||A,d.__i=s,m=re(e,d,f,i,o,a,c,_,l,u),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&oe(f.ref,null,d),u.push(d.ref,d.__c||b,d)),h==null&&b!=null&&(h=b),(v=!!(4&d.__u))||f.__k===d.__k?_=be(d,_,e,v):typeof d.type=="function"&&m!==void 0?_=m:b&&(_=b.nextSibling),d.__u&=-7);return r.__e=h,_}function je(e,t,r,n,i){var o,a,c,_,l,u=r.length,s=u,f=0;for(e.__k=new Array(i),o=0;o<i;o++)(a=t[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=e.__k[o]=V(null,a,null,null,null):q(a)?a=e.__k[o]=V(T,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?a=e.__k[o]=V(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):e.__k[o]=a,_=o+f,a.__=e,a.__b=e.__b+1,c=null,(l=a.__i=Ke(a,r,_,s))!=-1&&(s--,(c=r[l])&&(c.__u|=2)),c==null||c.__v==null?(l==-1&&(i>u?f--:i<u&&f++),typeof a.type!="function"&&(a.__u|=4)):l!=_&&(l==_-1?f--:l==_+1?f++:(l>_?f--:f++,a.__u|=4))):e.__k[o]=null;if(s)for(o=0;o<u;o++)(c=r[o])!=null&&(2&c.__u)==0&&(c.__e==n&&(n=L(c)),ke(c,c));return n}function be(e,t,r,n){var i,o;if(typeof e.type=="function"){for(i=e.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=e,t=be(i[o],t,r,n));return t}e.__e!=t&&(n&&(t&&e.type&&!t.parentNode&&(t=L(e)),r.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Ke(e,t,r,n){var i,o,a,c=e.key,_=e.type,l=t[r],u=l!=null&&(2&l.__u)==0;if(l===null&&c==null||u&&c==l.key&&_==l.type)return r;if(n>(u?1:0)){for(i=r-1,o=r+1;i>=0||o<t.length;)if((l=t[a=i>=0?i--:o++])!=null&&(2&l.__u)==0&&c==l.key&&_==l.type)return a}return-1}function pe(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||We.test(t)?r:r+"px"}function M(e,t,r,n,i){var o,a;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||pe(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||pe(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace(ve,"$1")),a=t.toLowerCase(),t=a in e||t=="onFocusOut"||t=="onFocusIn"?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n?r.u=n.u:(r.u=ee,e.addEventListener(t,o?J:Y,o)):e.removeEventListener(t,o?J:Y,o);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function _e(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=ee++;else if(t.t<r.u)return;return r(x.event?x.event(t):t)}}}function re(e,t,r,n,i,o,a,c,_,l){var u,s,f,d,b,h,m,v,g,y,P,z,H,ae,O,I,Q,R=t.type;if(t.constructor!==void 0)return null;128&r.__u&&(_=!!(32&r.__u),o=[c=t.__e=r.__e]),(u=x.__b)&&u(t);e:if(typeof R=="function")try{if(v=t.props,g="prototype"in R&&R.prototype.render,y=(u=R.contextType)&&n[u.__c],P=u?y?y.props.value:u.__:n,r.__c?m=(s=t.__c=r.__c).__=s.__E:(g?t.__c=s=new R(v,P):(t.__c=s=new $(v,P),s.constructor=R,s.render=Ge),y&&y.sub(s),s.state||(s.state={}),s.__n=n,f=s.__d=!0,s.__h=[],s._sb=[]),g&&s.__s==null&&(s.__s=s.state),g&&R.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=N({},s.__s)),N(s.__s,R.getDerivedStateFromProps(v,s.__s))),d=s.props,b=s.state,s.__v=t,f)g&&R.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),g&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(g&&R.getDerivedStateFromProps==null&&v!==d&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(v,P),t.__v==r.__v||!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(v,s.__s,P)===!1){for(t.__v!=r.__v&&(s.props=v,s.state=s.__s,s.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(F){F&&(F.__=t)}),z=0;z<s._sb.length;z++)s.__h.push(s._sb[z]);s._sb=[],s.__h.length&&a.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(v,s.__s,P),g&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(d,b,h)})}if(s.context=P,s.props=v,s.__P=e,s.__e=!1,H=x.__r,ae=0,g){for(s.state=s.__s,s.__d=!1,H&&H(t),u=s.render(s.props,s.state,s.context),O=0;O<s._sb.length;O++)s.__h.push(s._sb[O]);s._sb=[]}else do s.__d=!1,H&&H(t),u=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++ae<25);s.state=s.__s,s.getChildContext!=null&&(n=N(N({},n),s.getChildContext())),g&&!f&&s.getSnapshotBeforeUpdate!=null&&(h=s.getSnapshotBeforeUpdate(d,b)),I=u,u!=null&&u.type===T&&u.key==null&&(I=ye(u.props.children)),c=xe(e,q(I)?I:[I],t,r,n,i,o,a,c,_,l),s.base=t.__e,t.__u&=-161,s.__h.length&&a.push(s),m&&(s.__E=s.__=null)}catch(F){if(t.__v=null,_||o!=null)if(F.then){for(t.__u|=_?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,t.__e=c}else{for(Q=o.length;Q--;)te(o[Q]);Z(t)}else t.__e=r.__e,t.__k=r.__k,F.then||Z(t);x.__e(F,t,r)}else o==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):c=t.__e=Xe(r.__e,t,r,n,i,o,a,_,l);return(u=x.diffed)&&u(t),128&t.__u?void 0:c}function Z(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Z)}function me(e,t,r){for(var n=0;n<r.length;n++)oe(r[n],r[++n],r[++n]);x.__c&&x.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){x.__e(o,i.__v)}})}function ye(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:q(e)?e.map(ye):N({},e)}function Xe(e,t,r,n,i,o,a,c,_){var l,u,s,f,d,b,h,m=r.props||A,v=t.props,g=t.type;if(g=="svg"?i="http://www.w3.org/2000/svg":g=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(l=0;l<o.length;l++)if((d=o[l])&&"setAttribute"in d==!!g&&(g?d.localName==g:d.nodeType==3)){e=d,o[l]=null;break}}if(e==null){if(g==null)return document.createTextNode(v);e=document.createElementNS(i,g,v.is&&v),c&&(x.__m&&x.__m(t,o),c=!1),o=null}if(g==null)m===v||c&&e.data==v||(e.data=v);else{if(o=o&&W.call(e.childNodes),!c&&o!=null)for(m={},l=0;l<e.attributes.length;l++)m[(d=e.attributes[l]).name]=d.value;for(l in m)if(d=m[l],l!="children"){if(l=="dangerouslySetInnerHTML")s=d;else if(!(l in v)){if(l=="value"&&"defaultValue"in v||l=="checked"&&"defaultChecked"in v)continue;M(e,l,null,d,i)}}for(l in v)d=v[l],l=="children"?f=d:l=="dangerouslySetInnerHTML"?u=d:l=="value"?b=d:l=="checked"?h=d:c&&typeof d!="function"||m[l]===d||M(e,l,d,m[l],i);if(u)c||s&&(u.__html==s.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(s&&(e.innerHTML=""),xe(t.type=="template"?e.content:e,q(f)?f:[f],t,r,n,g=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:r.__k&&L(r,0),c,_),o!=null)for(l=o.length;l--;)te(o[l]);c||(l="value",g=="progress"&&b==null?e.removeAttribute("value"):b!=null&&(b!==e[l]||g=="progress"&&!b||g=="option"&&b!=m[l])&&M(e,l,b,m[l],i),l="checked",h!=null&&h!=e[l]&&M(e,l,h,m[l],i))}return e}function oe(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(i){x.__e(i,r)}}function ke(e,t,r){var n,i;if(x.unmount&&x.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||oe(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){x.__e(o,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&ke(n[i],t,r||typeof e.type!="function");r||te(e.__e),e.__c=e.__=e.__e=void 0}function Ge(e,t,r){return this.constructor(e,r)}function we(e,t,r){var n,i,o,a;t==document&&(t=document.documentElement),x.__&&x.__(e,t),i=(n=typeof r=="function")?null:r&&r.__k||t.__k,o=[],a=[],re(t,e=(!n&&r||t).__k=qe(T,null,[e]),i||A,A,t.namespaceURI,!n&&r?[r]:i?null:t.firstChild?W.call(t.childNodes):null,o,!n&&r?r:i?i.__e:t.firstChild,n,a),me(o,e,a)}W=he.slice,x={__e:function(e,t,r,n){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(c){e=c}throw e}},ue=0,$e=function(e){return e!=null&&e.constructor===void 0},$.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=N({},this.state),typeof e=="function"&&(e=e(N({},r),this.props)),e&&N(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),ce(this))},$.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ce(this))},$.prototype.render=T,D=[],de=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,fe=function(e,t){return e.__v.__b-t.__v.__b},B.__r=0,ve=/(PointerCapture)$|Capture$/i,ee=0,Y=_e(!1),J=_e(!0),Be=0;var U,k,ne,Ee,K=0,Fe=[],w=x,Te=w.__b,Se=w.__r,Re=w.diffed,Ce=w.__c,Pe=w.unmount,Ne=w.__;function se(e,t){w.__h&&w.__h(k,e,K||t),K=0;var r=k.__H||(k.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function E(e){return K=1,Qe(He,e)}function Qe(e,t,r){var n=se(U++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):He(void 0,t),function(c){var _=n.__N?n.__N[0]:n.__[0],l=n.t(_,c);_!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=k,!k.__f)){var i=function(c,_,l){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!o||o.call(this,c,_,l);var s=n.__c.props!==c;return u.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(s=!0)}}),o&&o.call(this,c,_,l)||s};k.__f=!0;var o=k.shouldComponentUpdate,a=k.componentWillUpdate;k.componentWillUpdate=function(c,_,l){if(this.__e){var u=o;o=void 0,i(c,_,l),o=u}a&&a.call(this,c,_,l)},k.shouldComponentUpdate=i}return n.__N||n.__}function S(e,t){var r=se(U++,3);!w.__s&&Le(r.__H,t)&&(r.__=e,r.u=t,k.__H.__h.push(r))}function X(e){return K=5,Ye(function(){return{current:e}},[])}function Ye(e,t){var r=se(U++,7);return Le(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function Je(){for(var e;e=Fe.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(j),e.__H.__h.forEach(ie),e.__H.__h=[]}catch(t){e.__H.__h=[],w.__e(t,e.__v)}}w.__b=function(e){k=null,Te&&Te(e)},w.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Ne&&Ne(e,t)},w.__r=function(e){Se&&Se(e),U=0;var t=(k=e.__c).__H;t&&(ne===k?(t.__h=[],k.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(j),t.__h.forEach(ie),t.__h=[],U=0)),ne=k},w.diffed=function(e){Re&&Re(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Fe.push(t)!==1&&Ee===w.requestAnimationFrame||((Ee=w.requestAnimationFrame)||Ze)(Je)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),ne=k=null},w.__c=function(e,t){t.some(function(r){try{r.__h.forEach(j),r.__h=r.__h.filter(function(n){return!n.__||ie(n)})}catch(n){t.some(function(i){i.__h&&(i.__h=[])}),t=[],w.__e(n,r.__v)}}),Ce&&Ce(e,t)},w.unmount=function(e){Pe&&Pe(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{j(n)}catch(i){t=i}}),r.__H=void 0,t&&w.__e(t,r.__v))};var De=typeof requestAnimationFrame=="function";function Ze(e){var t,r=function(){clearTimeout(n),De&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,35);De&&(t=requestAnimationFrame(r))}function j(e){var t=k,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),k=t}function ie(e){var t=k;e.__c=e.__(),k=t}function Le(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function He(e,t){return typeof t=="function"?t(e):t}var et=acquireVsCodeApi();function C(e){et.postMessage(e)}function G(e){let t=r=>e(r.data);return window.addEventListener("message",t),()=>window.removeEventListener("message",t)}var tt=0;function p(e,t,r,n,i,o){t||(t={});var a,c,_=t;if("ref"in _)for(c in _={},t)c=="ref"?a=t[c]:_[c]=t[c];var l={type:e,props:_,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--tt,__i:-1,__u:0,__source:i,__self:o};if(typeof e=="function"&&(a=e.defaultProps))for(c in a)_[c]===void 0&&(_[c]=a[c]);return x.vnode&&x.vnode(l),l}function Ie({items:e,selectedIndex:t,onSelectedIndexChange:r,emptyState:n}){let i=X(null);return S(()=>{if(i.current&&e.length>0){let o=i.current.querySelector(`[data-index="${t}"]`);o&&o.scrollIntoView({block:"nearest",behavior:"smooth"})}},[t,e]),e.length===0&&n?p("div",{class:"empty",children:[p("div",{class:"empty-title",children:n.title}),n.hint&&p("div",{class:"empty-hint",children:n.hint})]}):p("div",{class:"results",ref:i,role:"listbox",children:e.map((o,a)=>p("div",{"data-index":a,class:`result-item ${a===t?"selected":""}`,role:"option","aria-selected":a===t,onClick:()=>C({type:"OPEN",uri:o.uri}),onMouseEnter:()=>r(a),children:[p("div",{class:"result-label",children:o.label}),p("div",{class:"result-path",children:o.path})]},o.uri))})}function Ae({visible:e}){let[t,r]=E([]),[n,i]=E([]),[o,a]=E(null),[c,_]=E(new Set),[l,u]=E(!1);return S(()=>{e&&t.length===0&&o===null&&!l&&(u(!0),C({type:"EXPLORER_GET_DIR_TREE"}))},[e]),S(()=>G(h=>{h.type==="EXPLORER_DIR_TREE"?(r(h.roots),u(!1)):h.type==="EXPLORER_TREE"&&(a(h.roots),_(new Set),u(!1))}),[]),p("div",{class:"tab-content",role:"tabpanel",style:{display:e?void 0:"none"},children:l?p("div",{class:"empty",children:p("div",{class:"empty-title",children:"Loading..."})}):o!==null?p(ot,{roots:o,expanded:c,onToggle:h=>{_(m=>{let v=new Set(m);return v.has(h)?v.delete(h):v.add(h),v})},onOpen:h=>C({type:"OPEN",uri:h}),onChangeFolders:()=>{a(null),i([]),_(new Set),t.length===0&&(u(!0),C({type:"EXPLORER_GET_DIR_TREE"}))}}):p(rt,{roots:t,selectedUris:n,onSelect:h=>{i(m=>m.includes(h)?m.filter(v=>v!==h):m.length>=2?[m[1],h]:[...m,h])},onFocus:()=>{n.length!==0&&(u(!0),C({type:"EXPLORER_GET_TREE",folderUris:n}))}})})}function rt({roots:e,selectedUris:t,onSelect:r,onFocus:n}){let[i,o]=E(()=>new Set(e.map(_=>_.uri)));S(()=>{e.length>0&&o(_=>{let l=new Set(_);return e.forEach(u=>l.add(u.uri)),l})},[e]);let a=_=>{o(l=>{let u=new Set(l);return u.has(_)?u.delete(_):u.add(_),u})};if(e.length===0)return p(T,{children:[p("div",{class:"explorer-toolbar",children:p("span",{class:"explorer-toolbar-label",children:"Explorer Plus"})}),p("div",{class:"empty",children:[p("div",{class:"empty-title",children:"No workspace open"}),p("div",{class:"empty-hint",children:"Open a folder to use Explorer Plus"})]})]});let c=t.length;return p(T,{children:[p("div",{class:"explorer-toolbar",children:[p("span",{class:"explorer-toolbar-label",children:"Select folders to focus"}),c>0&&p("span",{class:"explorer-selection-count",children:[c,"/2"]})]}),p("div",{class:"results",children:e.map(_=>p(Ue,{node:_,depth:0,expanded:i,selectedUris:t,onSelect:r,onToggleExpand:a},_.uri))}),c>0&&p("div",{class:"explorer-footer",children:p("button",{class:"explorer-apply-btn",onClick:n,children:["Focus ",c===1?"folder":"both folders"]})})]})}function Ue({node:e,depth:t,expanded:r,selectedUris:n,onSelect:i,onToggleExpand:o}){let a=r.has(e.uri),c=n.includes(e.uri),_=e.children.length>0,l=t*14;return p(T,{children:[p("div",{class:`explorer-dir-pick-item${c?" selected":""}`,style:{paddingLeft:`${16+l}px`},onClick:()=>{i(e.uri),o(e.uri)},role:"checkbox","aria-checked":c,tabIndex:0,onKeyDown:u=>{u.key==="Enter"?(u.preventDefault(),i(e.uri)):u.key===" "&&_&&(u.preventDefault(),o(e.uri))},children:[p("span",{class:"explorer-expand-arrow",style:{visibility:_?void 0:"hidden"},onClick:u=>{u.stopPropagation(),o(e.uri)},"aria-hidden":"true",children:a?"\u25BE":"\u25B8"}),p("span",{class:"explorer-check","aria-hidden":"true",children:c?"\u2713":""}),p("span",{class:"explorer-item-icon","aria-hidden":"true",children:"\u{1F4C1}"}),p("span",{class:"explorer-item-name",children:e.name})]}),a&&e.children.map(u=>p(Ue,{node:u,depth:t+1,expanded:r,selectedUris:n,onSelect:i,onToggleExpand:o},u.uri))]})}function ot({roots:e,expanded:t,onToggle:r,onOpen:n,onChangeFolders:i}){let o=e.length>1,a=o?null:e[0]?.name,c=e.some(_=>(_.children?.length??0)>0);return p(T,{children:[p("div",{class:"explorer-toolbar",children:[p("button",{class:"explorer-back-btn",onClick:i,"aria-label":"Change focused folders",children:"\u2190 Change"}),a&&p("span",{class:"explorer-toolbar-label",title:a,children:a})]}),c?p("div",{class:"results",children:e.map((_,l)=>p("div",{children:[o&&p("div",{class:`explorer-section${l>0?" explorer-section--divided":""}`,children:[p("span",{class:"explorer-item-icon","aria-hidden":"true",children:"\u{1F4C1}"}),p("span",{class:"explorer-section-label",children:_.name})]}),(_.children??[]).map(u=>p(ze,{node:u,depth:0,expanded:t,onToggle:r,onOpen:n},u.uri))]},_.uri))}):p("div",{class:"empty",children:[p("div",{class:"empty-title",children:"No files found"}),p("div",{class:"empty-hint",children:"The selected folder appears to be empty"})]})]})}function ze({node:e,depth:t,expanded:r,onToggle:n,onOpen:i}){let o=t*14;if(e.type==="file")return p("div",{class:"explorer-item",style:{paddingLeft:`${16+o}px`},onClick:()=>i(e.uri),role:"button",tabIndex:0,onKeyDown:c=>{c.key==="Enter"&&i(e.uri)},children:[p("span",{class:"explorer-spacer","aria-hidden":"true"}),p("span",{class:"explorer-item-icon","aria-hidden":"true",children:"\u{1F4C4}"}),p("span",{class:"explorer-item-name",children:e.name})]});let a=r.has(e.uri);return p(T,{children:[p("div",{class:`explorer-item explorer-dir-item${a?" expanded":""}`,style:{paddingLeft:`${16+o}px`},onClick:()=>n(e.uri),role:"button","aria-expanded":a,tabIndex:0,onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),n(e.uri))},children:[p("span",{class:"explorer-arrow","aria-hidden":"true",children:a?"\u25BE":"\u25B8"}),p("span",{class:"explorer-item-icon","aria-hidden":"true",children:"\u{1F4C1}"}),p("span",{class:"explorer-item-name",children:e.name})]}),a&&e.children?.map(c=>p(ze,{node:c,depth:t+1,expanded:r,onToggle:n,onOpen:i},c.uri))]})}function Oe({enabled:e,itemCount:t,selectedIndex:r,onSelectedIndexChange:n,onEnter:i}){S(()=>{if(!e||t===0)return;let o=a=>{a.key==="ArrowDown"?(a.preventDefault(),n(Math.min(r+1,t-1))):a.key==="ArrowUp"?(a.preventDefault(),n(Math.max(r-1,0))):a.key==="Enter"&&(a.preventDefault(),i())};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e,t,r,n,i])}function Me(){let[e,t]=E("search"),[r,n]=E(""),[i,o]=E([]),[a,c]=E([]),[_,l]=E(0),[u,s]=E(!1),f=X(null),d=typeof window<"u"&&window.__NAVIFY_LOGO__?window.__NAVIFY_LOGO__:"",b=r.trim().length>0,h=b?i:a;S(()=>{e==="search"&&f.current?.focus()},[e]),S(()=>G(y=>{y.type==="RESULTS"?(o(Array.isArray(y.items)?y.items:[]),l(0),s(!1)):y.type==="RECENT_FILES"&&(c(Array.isArray(y.items)?y.items:[]),b||l(0))}),[b]),S(()=>{let y=r.trim();if(!y){o([]),l(0),s(!1);return}s(!0);let P=window.setTimeout(()=>{C({type:"SEARCH",q:y})},120);return()=>window.clearTimeout(P)},[r]),Oe({enabled:e==="search",itemCount:h.length,selectedIndex:_,onSelectedIndexChange:l,onEnter:()=>{let y=h[_];y&&C({type:"OPEN",uri:y.uri})}});let m=()=>b?u?{title:"Searching..."}:{title:"No files found",hint:"Try a different search term"}:{title:"No recent files",hint:"Files you open will appear here"},g=b&&i.length>0?`${i.length} ${i.length===1?"file":"files"} \xB7 \u2191\u2193 to navigate \xB7 Enter to open`:!b&&a.length>0?"\u2191\u2193 to navigate \xB7 Enter to open":null;return p("div",{class:"root",children:[p("div",{class:"header",children:p("div",{class:"header-content",children:[p("img",{class:"logo",src:d,alt:"Navify"}),p("h1",{class:"title",children:"Navify"})]})}),p("div",{class:"tabs",role:"tablist",children:[p("button",{class:`tab ${e==="search"?"active":""}`,role:"tab","aria-selected":e==="search",onClick:()=>t("search"),children:[p("span",{class:"tab-icon",children:"\u{1F50D}"}),p("span",{children:"Search"})]}),p("button",{class:`tab ${e==="explorer"?"active":""}`,role:"tab","aria-selected":e==="explorer",onClick:()=>t("explorer"),children:[p("span",{class:"tab-icon",children:"\u{1F4C2}"}),p("span",{children:"Explorer Plus"})]})]}),p("div",{class:"tab-content",role:"tabpanel",style:{display:e!=="search"?"none":void 0},children:[p("div",{class:"search-container",children:[p("div",{class:"search-input-wrapper",children:[p("span",{class:"search-icon","aria-hidden":"true",children:"\u{1F50D}"}),p("input",{ref:f,class:"search-input",type:"text",value:r,onInput:y=>n(y.target.value),placeholder:"Search files...","aria-label":"Search files",autocomplete:"off",spellcheck:!1}),r&&p("button",{class:"search-clear",onClick:()=>{n(""),f.current?.focus()},"aria-label":"Clear search",children:"\u2715"})]}),g&&p("div",{class:"search-hint",children:g})]}),!b&&a.length>0&&p("div",{class:"section-header",children:p("h2",{class:"section-title",children:"Recently Opened"})}),p(Ie,{items:h,selectedIndex:_,onSelectedIndexChange:l,emptyState:m()})]}),p(Ae,{visible:e==="explorer"})]})}var Ve=document.getElementById("app");Ve&&we(p(Me,{}),Ve);})();
